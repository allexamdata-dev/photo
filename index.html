<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>49KB Image ZIP (Odd Number Series)</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
* {
  box-sizing: border-box;
  padding: 0;
  margin: 0;
}

body {
  font-family: 'Segoe UI', Arial, sans-serif;
  background: #474b52;
  padding: 12px;
}

/* ---------- LAYOUT ---------- */
.container {
  display: flex;
  flex-direction: column;   /* MOBILE FIRST */
  gap: 16px;
  max-width: 1100px;
  margin: auto;
}

/* ---------- COMMON BOX ---------- */
.prog,
.detials,
.link {
  background: white;
  border-radius: 16px;
  padding: 20px;
  width: 100%;
}

/* ---------- PROGRAM BOX ---------- */
.prog {
  box-shadow: 0 4px 12px rgba(0,0,0,0.08);
}

img {
  display: block;
  max-width: 80px;
  width: 100%;
  margin: 10px auto;
  border-radius: 20px;
}

/* ---------- TEXT ---------- */
h2 {
  text-align: center;
  font-size: 22px;
  margin-bottom: 10px;
  color: #2c3e50;
}

p {
  font-size: 16px;
  margin-bottom: 10px;
}

/* ---------- INPUTS ---------- */
input,
button {
  width: 100%;
  padding: 14px;
  margin-top: 15px;
  border-radius: 8px;
  border: 1px solid #ccc;
  font-size: 16px;
}

button {
  background: green;
  color: white;
  cursor: pointer;
}

button:hover {
  background: #090cba;
}

/* ---------- DETAILS ---------- */
.detials {
  font-size: 16px;
  line-height: 1.5;
}

/* ---------- LINK ---------- */
.link {
  background: #02cc3f;
  text-align: center;
}

.link a {
  color: white;
  font-size: 20px;
  text-decoration: none;
}
/*image link*/
			a{background-color: #5cb85c; border: none; padding:15px; border-radius: 8px; text-decoration:none;
         font-size: 15px; align-items:center; display:flex; font-weight: bold; cursor: pointer; transition: 0.3s; }
	/*footer*/
footer{align-items:center; color:white;display:flex; padding:40px;justify-content:center;}
/* ---------- DESKTOP UPGRADE ---------- */
@media (min-width: 769px) {
  .container {
    flex-direction: row;
  }

  .prog {
    flex: 1;
  }

  .detials {
    flex: 1.5;
  }

  .link {
    flex: 1;
  }

  .image_marge {
    order: 1.5;

  }
}

</style>
</head>

<body>
<div class="container">
      <div class="prog">
 	 <img src="manas.jpeg" alt="logo">
  	<h2>WELCOME</h2>
  	<P><b>SSC_PROJECT</P>
  	<input type="file" id="fileInput" accept="image/*">

  	<input type="text" id="baseName" value="900003_photo.jpg" placeholder="900003_photo.jpg">

 	 <input type="number" id="step" value="3" min="1" placeholder="Type '3' for (3,6,9.12..)Photos">

  	<input type="number" id="count" value="" min="1" placeholder="How many photos">

  	<button onclick="createZip()">Create ZIP</button>
     </div>
     <div class="detials">
      	 <p> NOTE<br>
	• Type <b>"900003_photo.jpg"</b> in box for <b>"SSC_PROJECT"</b>.<br>
	• Type<b> "900001_photo.jpg"</b> in box for <b>"OTHER_PROJECT"</b>.<br>
	• Type odd<b> ("3")</b> number for <b>"SSC_PROJECT"</b>.<br>
	• Type odd <b>("1")</b> number for <b>"OTHER_PROJECT</b>.<br> 
    	• Supports all images<br>
    	• All uotput images will reduce <49KB<br>
    	• All Output format jpg</p>
     	
     </div>
     <div class="link">
     <p id="move"><b> <a href="marge.html">PDF MARGE LINK</a></p>
     </div>
	     <div class="image_marge">
         <a href="Data Structure Creator_V-301025.exe"><p id="color">Download Link </p></a>
     </div>
</div>

	<hr>
<footer><small>copy right @2026 | Manas Debnath</small></footer>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>

<script>
async function compressImage(file) {
  return new Promise((resolve, reject) => {
    const reader = new FileReader();
    reader.readAsDataURL(file);

    reader.onload = () => {
      const img = new Image();
      img.src = reader.result;

      img.onload = async () => {
        const canvas = document.createElement("canvas");
        const ctx = canvas.getContext("2d");

        /* SAFE resize for large images */
        const MAX = 1000;
        let w = img.width;
        let h = img.height;

        if (w > MAX || h > MAX) {
          const scale = Math.min(MAX / w, MAX / h);
          w = Math.floor(w * scale);
          h = Math.floor(h * scale);
        }

        canvas.width = w;
        canvas.height = h;
        ctx.drawImage(img, 0, 0, w, h);

        let quality = 0.8;
        let blob;

        while (quality > 0.05) {
          blob = await new Promise(r =>
            canvas.toBlob(r, "image/jpeg", quality)
          );
          if (blob.size <= 49 * 1024) break;
          quality -= 0.05;
        }

        if (blob.size > 49 * 1024) {
          alert("This image cannot be compressed to 49KB.");
          reject();
          return;
        }

        resolve(blob);
      };

      img.onerror = () => {
        alert("Unsupported image format.");
        reject();
      };
    };
  });
}

async function createZip() {
  const file = fileInput.files[0];
  if (!file) {
    alert("Please select an image");
    return;
  }

  const zip = new JSZip();

  const base = document.getElementById("baseName").value;
  const step = parseInt(document.getElementById("step").value);
  const count = parseInt(document.getElementById("count").value);

  if (!base.match(/\d+/)) {
    alert("Filename must contain a number");
    return;
  }

  const startNum = parseInt(base.match(/\d+/)[0]);
  const suffix = base.replace(startNum, "");

  const compressed = await compressImage(file);

  for (let i = 0; i < count; i++) {
    const num = startNum + (i * step);
    zip.file(num + suffix, compressed);
  }

  const zipBlob = await zip.generateAsync({ type:"blob" });

  const a = document.createElement("a");
  a.href = URL.createObjectURL(zipBlob);
  a.download = "BARCODE_MAINSERVER_IMAGE.zip";
  a.click();
}
</script>

</body>
</html>










